# 1. Block Scope

## 1-1. ÏÜåÍ∞ú

- scope: Ïú†Ìö® Í≥µÍ∞Ñ. ÌóàÏö© Î≤îÏúÑ.
- Ìï®Ïàò scope: Ìï®ÏàòÏóê ÏùòÌï¥ÏÑú ÏÉùÍ∏∞Îäî Î≥ÄÏàòÏùò Ïú†Ìö® Î≤îÏúÑ.
- Î∏îÎ°ù scope: Î∏îÎ°ùÏóê ÏùòÌï¥ÏÑú ÏÉùÍ∏¥Îäî Î≥ÄÏàòÏùò Ïú†Ìö® Î≤îÏúÑ.
  - `{}`Ïóê ÏùòÌï¥ÏÑú Î≥ÄÏàòÏùò Ïú†Ìö®Î≤îÏúÑÍ∞Ä Í≤∞Ï†ïÎêúÎã§.

```js
{
  let a = 10;
  {
    let a = 20;
    console.log(a); // 20
  }
  console.log(a); // 10
}

console.log(a); // referenceError
```

```js
function hasValue(p) {
  console.log(v);
  if (p) {
    var v = 'blue';
    console.log(v);
  } else {
    var v = 'red';
    console.log(v);
  }
  console.log(v);
}
hasValue(10);
```

```js
function hasValue(p) {
  // var v;
  console.log(v); // undefined
  if (p) {
    v = 'blue';
    console.log(v); // blue
  } else {
    v = 'red';
    console.log(v); // red
  }
  console.log(v); // blue
}

hasValue(10);
```

## 1-2. ÏÉÅÏÑ∏

### 1) let, constÏóê ÎåÄÌï¥ÏÑúÎßå.

```js
console.log(a); // referenceError
if (true) {
  var a = 10;
  if (true) {
    var a = 20;
    console.log(a); // 20
  }
  console.log(a); // 20
}
console.log(a); // 20
```

```js
// console.log(a);
if (true) {
  let a = 10;
  if (true) {
    const a = 20;
    console.log(a);
  }
  console.log(a);
}
// console.log(a);
```

```js
console.log(a); // referencError
if (true) {
  let a;
  a = 10;
  if (true) {
    const a;
    a = 20;
    console.log(a); // 20
  }
  console.log(a); // 10
}
console.log(a); // referencError
```

### 2) Hoisting ?

```js
if (true) {
  let a = 10;
  if (true) {
    console.log(a);
    const a = 20;
  }
  console.log(a);
}
console.log(a);
```

> => TDZ(Temperal Dead Zone, ÏûÑÏãúÏÇ¨Í∞ÅÏßÄÎåÄ)

- EcmascriptÏóêÏÑú Ï†ïÏùòÌïú Í∞úÎÖêÏùÄ ÏïÑÎãò.
- Î≥ÄÏàòÎ•º ÏÑ†Ïñ∏Ìïú ÏúÑÏπòÏóê Ïò§Í∏∞ Ï†ÑÍπåÏßÄÎäî Î≥ÄÏàòÎ•º Ìò∏Ï∂úÌï† Ïàò ÏóÜÎã§.
- Î≥ÄÏàò ÏÑ†Ïñ∏ Ïù¥Ï†ÑÍ≥º Ïù¥ÌõÑÏùò Ï∞®Ïù¥...

üö® hoisting

- Í∏∞Ï°¥ var: Î≥ÄÏàòÎ™ÖÎßå ÏúÑÎ°ú ÎÅåÏñ¥Ïò¨Î¶¨Í≥† / undefinedÎ•º Ìï†ÎãπÌïúÎã§.
- let, const: Î≥ÄÏàòÎ™ÖÎßå ÏúÑÎ°ú ÎÅåÏñ¥Ïò¨Î¶¨Í≥† / ÎÅù. (referenceError - Î≥ÄÏàòÎ™ÖÍ≥º Í∞íÏù¥ Îß§Ïπ≠ÎêòÏßÄ ÏïäÏùÄ ÏÉÅÌÉú, Ï∞∏Ï°∞Ìï† Ï£ºÏÜåÍ∞Ä ÏóÜÏùå.)
- referenceError: Î≥ÄÏàòÎ•º ÏÑ†Ïñ∏Ìïú ÏàúÍ∞ÑÏóê Í∞íÏù¥ Ìï†ÎãπÎêòÏñ¥ ÏûàÏßÄ ÏïäÏúºÎ©¥ Î∞úÏÉùÌïòÎäî ÏóêÎü¨.
- let, const Ìò∏Ïù¥Ïä§ÌåÖÏùÑ ÌñàÏùÑ Îïå, Ï∞∏Ï°∞Ìï† Ï£ºÏÜåÍ∞Ä Îß§ÏπòÎêòÏñ¥ ÏûàÏßÄ ÏïäÏïÑÏÑú Ï∞∏Ï°∞ Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå!
- var Ìò∏Ïù¥Ïä§ÌåÖÏùÑ ÌñàÏùÑ Îïå, Ï∞∏Ï°∞Ìï† Ï£ºÏÜåÍ∞Ä Îß§ÏπòÎêòÏñ¥ ÏûàÏùå(undefined)

### 3) this ?

```js
var value = 0;
var obj = {
  value: 1,
  setValue: function () {
    this.value = 2; // -> obj.value = 2;
    (function () {
      this.value = 3; // window.value = 3;
    })();
  },
};
obj.setValue();
console.log(value); // 3
console.log(obj.value); // 2
```

Ïôú Îã§Î•¥Í≤å ÎÇòÏò¨Íπå?

```js
var value = 0;
var obj = {
  value: 1,
  setValue: function () {
    var self = this;
    self.value = 2;
    (function () {
      self.value = 3;
    })();
  },
};
obj.setValue();
console.log(value);
console.log(obj.value);
```

```js
let value = 0;
let obj = {
  value: 1,
  setValue: function () {
    this.value = 2;
    {
      this.value = 3;
    }
  },
};
obj.setValue();
console.log(value); // 0
console.log(obj.value); // 3
```

### 4) Î™®Îì† `Î¨∏` ÌòïÌÉúÏóê Ï†ÅÏö©.

```js
var sum = 0;
for (let i = 1; i <= 10; i++) {
  sum += i;
}
console.log(sum); // 55
console.log(i); // referenceError
```

```js
var sum = 0;
for (var i = 1; i <= 10; i++) {
  sum += i;
}
console.log(sum); // 55
console.log(i); // 11
```

```js
{
  let a = 2;
  if (a > 1) {
    let b = a * 3;
    console.log(b); // 6
  } else {
    let b = a / 3;
    console.log(b);
  }
  console.log(b); // referencError
}

console.log(a); // referenceError
```

```js
if (Math.random() < 0.5) {
  let j = 0;
  console.log(j);
} else {
  let j = 1;
  console.log(j);
}
console.log(j);
```

```js
let a = Math.ceil(Math.random() * 3);
switch (a) {
  case 1: {
    let b = 10;
    console.log(a + b);
    break;
  }
  case 2: {
    let b = 20;
    console.log(a + b);
    break;
  }
  case 3: {
    let b = 30;
    console.log(a + b);
    break;
  }
}

console.log(a, b); // b - referenceError
```
